<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>デジタル神経衰弱</title>
    <link rel="stylesheet" href="style.css">
    <!-- アイコン用のFont Awesomeを読み込み -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>

    <!-- 設定画面 -->
    <div id="setup-screen" class="screen active">
        <header class="main-header">
            <h1>デジタル神経衰弱</h1>
        </header>

        <main id="setup-main">
            <!-- ステップ1: 画像を選ぶ -->
            <div id="step-1" class="setup-step active">
                <h2>1. 画像を選ぶ</h2>
                <div class="selection-buttons">
                    <button id="folder-select-btn" class="select-btn">
                        <i class="fa-solid fa-folder-open"></i> フォルダを選択 (まとめて)
                    </button>
                    <button id="files-select-btn" class="select-btn">
                        <i class="fa-solid fa-images"></i> 画像を1枚ずつ選択
                    </button>
                    <!-- 裏で実際のファイル選択を行うinput要素 -->
                    <input type="file" id="folder-input" webkitdirectory directory hidden>
                    <input type="file" id="files-input" multiple accept="image/*" hidden>
                </div>
                <div id="image-preview-container">
                    <p class="preview-placeholder">ここに選択した画像が表示されます。</p>
                </div>
            </div>

            <!-- ステップ2: 画像の表示方法を選ぶ -->
            <div id="step-2" class="setup-step">
                <h2>2. 画像の表示方法を選ぶ</h2>
                <div class="choice-container">
                    <label class="choice-label">
                        <input type="radio" name="display-mode" value="cover" checked>
                        <div class="choice-box">
                            <h3>トリミング</h3>
                            <p>カードの形に合わせて画像が拡大・縮小され、はみ出した部分は見えなくなります。</p>
                        </div>
                    </label>
                    <label class="choice-label">
                        <input type="radio" name="display-mode" value="contain">
                        <div class="choice-box">
                            <h3>全体表示</h3>
                            <p>画像の縦横比を保ったままカードに収まり、余白ができる場合があります。</p>
                        </div>
                    </label>
                </div>
            </div>

            <!-- ステップ3: 難易度を選ぶ -->
            <div id="step-3" class="setup-step">
                <h2>3. 難易度を選ぶ</h2>
                <div class="choice-container">
                    <label class="choice-label">
                        <input type="radio" name="difficulty" value="easy" checked>
                        <div class="choice-box">
                            <h3>かんたん</h3>
                            <p>全てのカードが表向きの状態でスタートします。同じ絵柄を選んで消していきましょう。</p>
                        </div>
                    </label>
                    <label class="choice-label">
                        <input type="radio" name="difficulty" value="hard">
                        <div class="choice-box">
                            <h3>むずかしい</h3>
                            <p>全てのカードが裏向きの状態でスタートします。記憶力を頼りにペアを見つけましょう。</p>
                        </div>
                    </label>
                </div>
            </div>
        </main>

        <footer class="navigation-footer">
            <button id="back-btn" class="nav-btn">戻る</button>
            <button id="next-btn" class="nav-btn" disabled>決定</button>
        </footer>
    </div>

    <!-- ゲーム画面 -->
    <div id="game-screen" class="screen">
        <header class="game-header">
            <button id="back-to-title-btn" class="game-control-btn">
                <i class="fa-solid fa-arrow-rotate-left"></i> タイトルに戻る
            </button>
            <div class="zoom-controls">
                <button id="zoom-out-btn" class="game-control-btn icon-btn" title="縮小">
                    <i class="fa-solid fa-magnifying-glass-minus"></i>
                </button>
                <button id="zoom-in-btn" class="game-control-btn icon-btn" title="拡大">
                    <i class="fa-solid fa-magnifying-glass-plus"></i>
                </button>
            </div>
        </header>
        <main id="game-main">
            <div id="game-board"></div>
            <button id="next-turn-btn" class="nav-btn" style="display: none;">次へ</button>
        </main>
    </div>
    
    <!-- クリアメッセージ -->
    <div id="clear-message" class="clear-message-container">
        <div class="clear-message-box">
            <p>CLEAR!</p>
            <button id="clear-back-to-title-btn">タイトルに戻る</button>
        </div>
    </div>

    <!-- 効果音 -->
    <audio id="sfx-button" src="https://y-sensei-lab.github.io/memory-game/audio/sfx_button.mp3" preload="auto"></audio>
    <audio id="sfx-open" src="https://y-sensei-lab.github.io/memory-game/audio/sfx_open.mp3" preload="auto"></audio>
    <audio id="sfx-pair" src="https://y-sensei-lab.github.io/memory-game/audio/sfx_pair.mp3" preload="auto"></audio>
    <audio id="sfx-fail" src="https://y-sensei-lab.github.io/memory-game/audio/sfx_fail.mp3" preload="auto"></audio>
    <audio id="sfx-clear" src="https://y-sensei-lab.github.io/memory-game/audio/sfx_clear.mp3" preload="auto"></audio>

    <script src="script.js"></script>
</body>
</html>
